<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1.0,user-scalable=no"/>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
		<meta name="description" content="Front end Web Developer. React JS developer"/>
		<meta name="author" content="Dhananjayan"/>

		<title>Dhananjayan's Website</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="manifest" href="pwa.webmanifest">

		<!-- <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel="stylesheet"> -->
		<link rel="stylesheet" href="css/style.css">
		<style type="text/css">
			.add-button {
			  position: absolute;
			  top: 1px;
			  left: 1px;
			}
		</style>
	</head>
	<body>
		<header class="container">
			<button class="add-button">Add to home screen</button>
		</header>
  		<script src="js/jquery.min.js"></script>
  		<script type="text/javascript">
  			let deferredPrompt;
			const addBtn = document.querySelector('.add-button');
			addBtn.style.display = 'none';

			window.addEventListener('beforeinstallprompt', (e) => {
			  // Prevent Chrome 67 and earlier from automatically showing the prompt
			  e.preventDefault();
			  // Stash the event so it can be triggered later.
			  deferredPrompt = e;
			  // Update UI to notify the user they can add to home screen
			  addBtn.style.display = 'block';

			  addBtn.addEventListener('click', (e) => {
			    // hide our user interface that shows our A2HS button
			    addBtn.style.display = 'none';
			    // Show the prompt
			    deferredPrompt.prompt();
			    // Wait for the user to respond to the prompt
			    deferredPrompt.userChoice.then((choiceResult) => {
			        if (choiceResult.outcome === 'accepted') {
			          console.log('User accepted the A2HS prompt');
			        } else {
			          console.log('User dismissed the A2HS prompt');
			        }
			        deferredPrompt = null;
			      });
			  });
			});
  		</script>
	</body>
</html>